/* Ultra Flat Design Overrides */
/* Applied when body has class `ultra-flat` */

/* Base */
body.ultra-flat {
  background: #ffffff !important;
  color: #111827; /* neutral-900 */
  /* Theme tokens */
  --uf-border: #e5e7eb;
  --uf-accent: #6366f1; /* indigo-500 to match Material */
  --uf-btn-bg: #111827;
  --uf-btn-text: #ffffff;
  --uf-btn-bg-hover: #000000;
  --uf-secondary-bg: #f3f4f6;
  --uf-secondary-text: #111827;
  --uf-icon-bg: #111827;
  --uf-icon-text: #ffffff;
  /* Media controls contrast (Flat) */
  --media-controls-bg-video: rgba(0, 0, 0, 0.7);
  --media-controls-bg-audio: #e9edf3;
}

/* Media geometry: sharp, no elevation in Flat */
body.ultra-flat .video-preview-block video,
body.ultra-flat .media-section video {
  border-radius: 2px !important;
  box-shadow: none !important;
  border-color: var(--uf-border) !important;
}

body.ultra-flat .video-preview-block video::-webkit-media-controls-enclosure,
body.ultra-flat .media-section video::-webkit-media-controls-enclosure {
  border-radius: 2px !important;
}

body.ultra-flat .audio-player-inline audio,
body.ultra-flat .audio-preview-block audio {
  border-radius: 2px !important;
  box-shadow: none !important;
  border-color: var(--uf-border) !important;
}

body.ultra-flat .audio-player-inline audio::-webkit-media-controls-panel,
body.ultra-flat .audio-preview-block audio::-webkit-media-controls-panel {
  border-radius: 2px !important;
}

/* Modal player: no elevation in Flat */
body.ultra-flat .video-player-container {
  box-shadow: none !important;
}

/* Completed view: very light canvas in Flat theme */
body.ultra-flat .video-wrapper {
  background: rgba(15, 23, 42, 0.06) !important;
  border-color: #e5e7eb !important;
}

body.ultra-flat * {
  text-shadow: none !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

/* Header */
body.ultra-flat .app-header {
  background: #ffffff !important;
  color: #111827 !important;
  border-bottom: 1px solid var(--uf-border) !important; /* neutral-200 */
}

body.ultra-flat .app-header h1,
body.ultra-flat .app-header p {
  -webkit-text-fill-color: initial !important;
  background: none !important;
  color: #111827 !important;
}

/* Layout cards */
body.ultra-flat .card-container,
body.ultra-flat .content-card,
body.ultra-flat .video-option-card,
body.ultra-flat .statistics-summary,
body.ultra-flat .stat-card,
body.ultra-flat .monitor-header {
  background: #ffffff !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 4px !important;
}

/* Remove decorative gradients/overlays */
body.ultra-flat .task-monitor,
body.ultra-flat .stat-card::before {
  background: none !important;
}

/* Toggle (Process/Monitor) */
body.ultra-flat .view-toggle {
  background: #ffffff !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 6px !important;
  padding: 2px !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

body.ultra-flat .toggle-btn {
  background: transparent !important;
  color: #374151 !important; /* neutral-700 */
  border-radius: 4px !important;
  box-shadow: none !important;
  transform: none !important;
}

body.ultra-flat .toggle-btn.active {
  background: var(--uf-icon-bg) !important;
  color: var(--uf-icon-text) !important;
  box-shadow: none !important;
  transform: none !important;
}

/* Ensure mode-toggle follows flat design principles */
body.ultra-flat .mode-toggle {
  background: #f3f4f6 !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 4px !important;
  box-shadow: none !important;
  padding: 2px !important;
}
body.ultra-flat .mode-toggle .toggle-btn {
  background: #ffffff !important;
  color: #374151 !important;
  border: 1px solid transparent !important;
  border-radius: 2px !important;
  padding: 6px 12px !important;
  font-weight: 500 !important;
}
body.ultra-flat .mode-toggle .toggle-btn.active {
  background: var(--uf-btn-bg) !important;
  color: var(--uf-btn-text) !important;
  border-color: var(--uf-btn-bg) !important;
}
body.ultra-flat .mode-toggle .toggle-btn:not(.active):hover {
  background: #f3f4f6 !important;
  border-color: var(--uf-border) !important;
}

body.ultra-flat .toggle-btn:hover:not(.active) {
  background: #f3f4f6 !important;
  color: #111827 !important;
}

body.ultra-flat .toggle-btn:focus-visible {
  outline: 2px solid var(--uf-accent) !important;
  outline-offset: 2px !important;
}

/* Inputs */
body.ultra-flat input[type="text"],
body.ultra-flat input[type="file"],
body.ultra-flat select,
body.ultra-flat textarea,
body.ultra-flat .search-input,
body.ultra-flat .status-filter {
  background: #ffffff !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 2px !important;
}

body.ultra-flat .search-input:focus,
body.ultra-flat .status-filter:focus {
  outline: none !important;
  border-color: var(--uf-accent) !important; /* accent */
  box-shadow: none !important;
}

/* Buttons */
body.ultra-flat .primary-btn,
body.ultra-flat .search-button,
body.ultra-flat .retry-button,
body.ultra-flat .preview-button,
body.ultra-flat .cancel-button,
body.ultra-flat .delete-button,
body.ultra-flat .advanced-options-button,
body.ultra-flat button {
  background: var(--uf-btn-bg) !important; /* primary */
  color: var(--uf-btn-text) !important;
  border: 1px solid var(--uf-btn-bg) !important;
  border-radius: 2px !important;
}

body.ultra-flat .primary-btn:hover,
body.ultra-flat .search-button:hover,
body.ultra-flat .retry-button:hover,
body.ultra-flat .preview-button:hover,
body.ultra-flat .cancel-button:hover,
body.ultra-flat .delete-button:hover,
body.ultra-flat .page-button:hover,
body.ultra-flat .advanced-options-button:hover,
body.ultra-flat button:hover {
  background: var(--uf-btn-bg-hover) !important;
  border-color: var(--uf-btn-bg-hover) !important;
}

/* Secondary variants if present */
body.ultra-flat .cancel-button {
  background: var(--uf-secondary-bg) !important; /* neutral-100 */
  color: var(--uf-secondary-text) !important;
  border-color: var(--uf-border) !important;
}

body.ultra-flat .cancel-button:hover {
  background: #e5e7eb !important;
}

/* Improve contrast: ensure process/monitor icons are visible on dark active tab */
body.ultra-flat .view-toggle .toggle-btn .toggle-icon { color: inherit !important; filter: none !important; }
body.ultra-flat .view-toggle .toggle-btn.active .toggle-icon { color: inherit !important; filter: none !important; }

/* Icon-only delete button: keep light for clarity */
body.ultra-flat .delete-button {
  background: transparent !important;
  color: #111827 !important;
  border: 1px solid transparent !important;
}

body.ultra-flat .delete-button:hover {
  background: #f3f4f6 !important;
  border-color: var(--uf-border) !important;
  color: #dc2626 !important; /* red-600 */
}

/* Ensure link-style buttons remain links in flat theme */
body.ultra-flat .link-button {
  background: transparent !important;
  border: 0 !important;
  color: var(--uf-accent) !important;
  padding: 0 !important;
  box-shadow: none !important;
}
/* Override broad button:hover rules so it never looks like a filled button */
body.ultra-flat .link-button:hover {
  background: transparent !important;
  border: 0 !important;
  color: var(--uf-accent) !important;
  text-decoration: underline !important;
  transform: none !important;
  box-shadow: none !important;
}
body.ultra-flat .link-button:active,
body.ultra-flat .link-button:focus { background: transparent !important; box-shadow: none !important; }
body.ultra-flat .link-button:focus-visible { outline: 2px solid var(--uf-accent) !important; outline-offset: 2px !important; }
body.ultra-flat .link-button:disabled { background: transparent !important; opacity: 0.6 !important; }

/* Watch (preview) button contains a black triangle emoji; keep light */
body.ultra-flat .preview-button {
  background: #ffffff !important;
  color: #111827 !important;
  border: 1px solid var(--uf-border) !important;
}

body.ultra-flat .preview-button:hover {
  background: #f3f4f6 !important;
  border-color: #d1d5db !important;
}

/* Preview toggle overrides */
body.ultra-flat .preview-toggle .toggle-btn {
  background: #ffffff !important;
  color: #374151 !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 2px !important;
}
body.ultra-flat .preview-toggle .toggle-btn.active {
  background: var(--uf-btn-bg) !important;
  color: var(--uf-btn-text) !important;
  border-color: var(--uf-btn-bg) !important;
}
body.ultra-flat .preview-toggle .toggle-btn:not(.active):hover {
  background: #f3f4f6 !important;
}
body.ultra-flat .preview-toggle .toggle-btn:focus-visible {
  outline: 2px solid var(--uf-accent) !important;
  outline-offset: 2px !important;
}
body.ultra-flat .copy-btn-enhanced:focus-visible,
body.ultra-flat .task-status:focus-visible,
body.ultra-flat .task-id:focus-visible {
  outline: 2px solid var(--uf-accent) !important;
  outline-offset: 2px !important;
}

/* Output pills: ensure crisp flat colors */
body.ultra-flat .output-pill.video { color: #1d4ed8 !important; background: #dbeafe !important; border-color: #bfdbfe !important; }
body.ultra-flat .output-pill.podcast { color: #6d28d9 !important; background: #ede9fe !important; border-color: #ddd6fe !important; }

/* Processing steps: flatten visuals */
body.ultra-flat .steps-container {
  background: #ffffff !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 4px !important;
}
body.ultra-flat .step-item {
  background: #ffffff !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 4px !important;
  box-shadow: none !important;
}
body.ultra-flat .step-item.processing,
body.ultra-flat .step-item.in_progress {
  background: #f3f4f6 !important; /* neutral-100 */
  border-color: var(--uf-border) !important;
  animation: none !important; /* remove pulse */
}
body.ultra-flat .step-item.processing::before,
body.ultra-flat .step-item.in_progress::before { display: none !important; }
body.ultra-flat .step-item.completed { background: #f0fdf4 !important; border-color: #86efac !important; }
body.ultra-flat .step-item.failed { background: #fef2f2 !important; border-color: #fecaca !important; }
body.ultra-flat .step-item.pending { background: #f8fafc !important; border-color: var(--uf-border) !important; }
body.ultra-flat .step-item.skipped { background: #f1f5f9 !important; border-color: #e2e8f0 !important; opacity: 1 !important; }
body.ultra-flat .step-icon { animation: none !important; }
body.ultra-flat .step-name { color: #111827 !important; }

/* File type badges (PDF/PPT): remove gradients; use flat solids */
body.ultra-flat .file-type-badge {
  background: #f3f4f6 !important; /* neutral-100 */
  color: #111827 !important;      /* neutral-900 */
  border: 1px solid var(--uf-border) !important;
  border-radius: 2px !important;
}
body.ultra-flat .file-type-badge.pdf {
  background: #ef4444 !important; /* red-500 */
  color: #ffffff !important;
  border-color: #ef4444 !important;
}
body.ultra-flat .file-type-badge.ppt {
  background: #2563eb !important; /* blue-600 */
  color: #ffffff !important;
  border-color: #2563eb !important;
}

/* Close button in video modal: ensure strong contrast */
body.ultra-flat .video-close-button {
  background: #111827 !important;
  color: #ffffff !important;
  border-color: #111827 !important;
}

/* Disabled buttons: sufficient contrast on light backgrounds */
body.ultra-flat .primary-btn:disabled,
body.ultra-flat .search-button:disabled,
body.ultra-flat .retry-button:disabled,
body.ultra-flat .preview-button:disabled,
body.ultra-flat .cancel-button:disabled,
body.ultra-flat .page-button:disabled,
body.ultra-flat button:disabled {
  background: #e5e7eb !important;
  color: #9ca3af !important;
  border-color: #e5e7eb !important;
}

/* Focus visibility */
body.ultra-flat .primary-btn:focus,
body.ultra-flat .search-button:focus,
body.ultra-flat .retry-button:focus,
body.ultra-flat .preview-button:focus,
body.ultra-flat .cancel-button:focus,
body.ultra-flat .delete-button:focus,
body.ultra-flat .page-button:focus,
body.ultra-flat button:focus {
  outline: 2px solid #0ea5e9 !important;
  outline-offset: 2px !important;
}

/* Status badges/cards */
body.ultra-flat .stat-card.primary,
body.ultra-flat .stat-card.success,
body.ultra-flat .stat-card.info,
body.ultra-flat .stat-card.warning,
body.ultra-flat .stat-card.danger,
body.ultra-flat .stat-card.processing,
body.ultra-flat .stat-card.queued,
body.ultra-flat .stat-card.failed {
  background: #ffffff !important;
  border-color: var(--uf-border) !important;
}

/* Task status pills in Task Monitor */
body.ultra-flat .task-item.status-completed { border-left-color: #86efac !important; }
body.ultra-flat .task-status.status-completed {
  color: #166534 !important; /* green-800 */
  border-color: #86efac !important; /* green-300 */
  background: #f0fdf4 !important; /* green-50 */
}
body.ultra-flat .task-status.status-completed::before { background-color: #16a34a !important; /* green-600 */ }
body.ultra-flat .task-status.status-completed:hover { background: #dcfce7 !important; }
body.ultra-flat .task-status:focus-visible { outline: 2px solid var(--uf-accent) !important; outline-offset: 2px !important; }
body.ultra-flat .task-id:focus-visible { outline: 2px solid var(--uf-accent) !important; outline-offset: 2px !important; }

/* Processing */
body.ultra-flat .task-item.status-processing { border-left-color: #bfdbfe !important; }
body.ultra-flat .task-status.status-processing {
  color: #1e3a8a !important; /* blue-900 */
  border-color: #bfdbfe !important; /* blue-200 */
  background: #eff6ff !important; /* blue-50 */
}
body.ultra-flat .task-status.status-processing::before { background-color: #2563eb !important; /* blue-600 */ }
body.ultra-flat .task-status.status-processing:hover { background: #dbeafe !important; }

/* Queued */
body.ultra-flat .task-item.status-queued { border-left-color: #fde68a !important; }
body.ultra-flat .task-status.status-queued {
  color: #92400e !important; /* amber-900 */
  border-color: #fde68a !important; /* amber-200 */
  background: #fffbeb !important; /* amber-50 */
}
body.ultra-flat .task-status.status-queued::before { background-color: #f59e0b !important; /* amber-500 */ }
body.ultra-flat .task-status.status-queued:hover { background: #fef3c7 !important; }

/* Failed */
body.ultra-flat .task-item.status-failed { border-left-color: #fecaca !important; }
body.ultra-flat .task-status.status-failed {
  color: #b91c1c !important; /* red-700 */
  border-color: #fecaca !important; /* red-200 */
  background: #fef2f2 !important; /* red-50 */
}
body.ultra-flat .task-status.status-failed::before { background-color: #ef4444 !important; /* red-500 */ }
body.ultra-flat .task-status.status-failed:hover { background: #fee2e2 !important; }

/* Cancelled */
body.ultra-flat .task-item.status-cancelled { border-left-color: #e5e7eb !important; }
body.ultra-flat .task-status.status-cancelled {
  color: #475569 !important; /* slate-600 */
  border-color: #e5e7eb !important; /* gray-200 */
  background: #f8fafc !important; /* slate-50 */
}
body.ultra-flat .task-status.status-cancelled::before { background-color: #94a3b8 !important; /* slate-400 */ }
body.ultra-flat .task-status.status-cancelled:hover { background: #f1f5f9 !important; }

body.ultra-flat .stat-icon {
  background: var(--uf-icon-bg) !important;
  color: var(--uf-icon-text) !important;
}

/* Progress bars and meters */
body.ultra-flat .progress,
body.ultra-flat progress {
  background: var(--uf-border) !important;
  border-radius: 2px !important;
}

body.ultra-flat .progress::-webkit-progress-value,
body.ultra-flat progress::-webkit-progress-value {
  background: var(--uf-btn-bg) !important;
}

/* Video preview container */
body.ultra-flat .video-modal,
body.ultra-flat .video-container {
  background: #ffffff !important;
  border: 1px solid var(--uf-border) !important;
}

/* Links */
body.ultra-flat a { color: var(--uf-accent) !important; text-decoration: none; }
body.ultra-flat a:hover { text-decoration: underline; }

/* Footer text contrast */
body.ultra-flat .app-footer,
body.ultra-flat .app-footer p,
body.ultra-flat .footer-note {
  color: #111827 !important;
}

/* Responsive tweaks to preserve RWD */
@media (max-width: 768px) {
  body.ultra-flat .header-content {
    flex-direction: column !important;
    gap: 12px !important;
    align-items: stretch !important;
  }

  body.ultra-flat .view-toggle {
    width: 100% !important;
    justify-content: space-between !important;
  }

  body.ultra-flat .toggle-btn {
    flex: 1 1 0 !important;
    justify-content: center !important;
    padding: 10px 12px !important;
    font-size: 0.9rem !important;
  }

  body.ultra-flat .mode-toggle {
    width: 100% !important;
    margin-bottom: 8px !important;
  }

  body.ultra-flat .mode-toggle .toggle-btn {
    flex: 1 !important;
    justify-content: center !important;
    padding: 6px !important;
    font-size: 0.9rem !important;
  }

  body.ultra-flat .content-card {
    padding: 1.25rem !important;
    border-radius: 6px !important;
  }

  body.ultra-flat .monitor-header {
    flex-direction: column !important;
    gap: 12px !important;
  }

  body.ultra-flat .search-form {
    flex-direction: column !important;
    gap: 10px !important;
  }

  body.ultra-flat .stat-cards-row {
    grid-template-columns: 1fr !important;
    gap: 10px !important;
  }

  body.ultra-flat .video-options-grid {
    grid-template-columns: 1fr !important;
  }

  body.ultra-flat .primary-btn,
  body.ultra-flat .search-button,
  body.ultra-flat .retry-button {
    width: 100% !important;
  }
}
/* Lightweight pagination overrides */
body.ultra-flat .pagination {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}
body.ultra-flat .pagination .page-button {
  background: #ffffff !important;
  color: #111827 !important;
  border: 1px solid var(--uf-border) !important;
  border-radius: 6px !important;
  box-shadow: none !important;
}
body.ultra-flat .pagination .page-button:hover:not(:disabled) {
  background: #f3f4f6 !important;
  border-color: #d1d5db !important;
}
body.ultra-flat .pagination .page-button:disabled {
  background: #f3f4f6 !important;
  color: #9ca3af !important;
  border-color: var(--uf-border) !important;
}
